<div class="chat-wrapper">
  <button nbButton ghost class="floating-attach-btn" (click)="fileInput.click()">
    <nb-icon icon="attach-2-outline"></nb-icon>
  </button>
  <input #fileInput type="file" style="display: none" (change)="handleFileUpload($event)" accept="image/*">
  <nb-chat>
    <nb-chat-message *ngFor="let msg of messages()" [type]="msg.type" [message]="msg.text" [reply]="msg.reply"
      [sender]="msg.user.name" [date]="msg.date" [files]="msg.files" [quote]="msg.quote" [latitude]="msg.latitude"
      [longitude]="msg.longitude" [avatar]="msg.user.avatar">
    </nb-chat-message>
    <nb-chat-form (send)="sendMessage($event)" [dropFiles]="true"></nb-chat-form>
  </nb-chat>
</div>